(this["webpackJsonpjuego-hundirbarcos"]=this["webpackJsonpjuego-hundirbarcos"]||[]).push([[0],{12:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(3),o=n.n(r),a=(n(12),n(2)),i="[Config] BoxesBoard",s="[Interaction] BoxStatesOnClick",l=n(1),u=function(e){var t=e.box,n=e.board,c=e.turn,r=e.disabled,o=Object(a.b)();return Object(l.jsx)("div",{onClick:t.attacked||r?"":function(e){o(function(e,t,n){return{type:s,payload:{box:e,board:t,turn:n}}}(t,n,c))},className:"box "+(t.attacked?t.ship?"attackedBox":"waterBox":" "),children:t.id})},d=function(e){var t=e.configKey,n=Object(a.c)((function(e){return e.config})),c=n.boards,r=n.playerTurn,o=c.filter((function(e){return e.configKey===t}))[0];return console.log(r),Object(l.jsx)("div",{children:Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:"board "+(r===t?"boardDisabled":""),style:{"grid-template-columns":"1fr ".repeat(o.columns)},children:o.boxesList.map((function(e){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(u,{disabled:r===t,box:e,board:o,turn:r},e.id)})}))})})})},b=function(e,t){return{type:i,payload:{columns:e,configKey:t}}},f=function(e){var t=e.configKey,n=Object(a.b)(),r=Object(c.useRef)();Object(c.useEffect)((function(){n(b(r.current.value,t))}),[]);return Object(l.jsxs)("div",{children:[Object(l.jsx)("h4",{children:"Choose a board size"}),Object(l.jsxs)("select",{ref:r,onChange:function(e){var c=e.target.value;n(b(c,t))},children:[Object(l.jsx)("option",{value:"0",children:"None"}),Object(l.jsx)("option",{selected:!0,value:"4",children:"4"}),Object(l.jsx)("option",{value:"8",children:"8"}),Object(l.jsx)("option",{value:"16",children:"16"})]})]})},j=function(e){var t=e.configKey;return Object(l.jsxs)("div",{className:"playerScreen",children:[Object(l.jsxs)("h5",{children:[" Player: ",t]}),Object(l.jsx)(f,{configKey:t,className:"configuration"}),Object(l.jsx)(d,{configKey:t})]})},p=n(4),y=n.n(p),h=function(){return Object(c.useEffect)((function(){y.a.fire({title:"Ready?, Go!",timer:2e3,willClose:function(){clearInterval()}})}),[]),Object(l.jsxs)("div",{className:"gameScreen",children:[Object(l.jsx)("h1",{className:"title",children:" BattleShip "}),Object(l.jsx)(j,{configKey:"player1"}),Object(l.jsx)(j,{configKey:"player2"})]})},O=n(11),x=n(5),g=n(10);function m(e,t){return Object(g.a)(e).sort((function(){return Math.random()>.5?1:-1})).slice(0,t)}var v=[{columns:0,configKey:"player1",boxesList:[],boxesQuant:0},{columns:0,configKey:"player2",boxesList:[],boxesQuant:0}],K={boards:v,playerTurn:m(v,1)[0].configKey},E="A B C D E F G H I J K L M N O P Q".split(" ");function N(e,t){for(var n=[],c=0;c<e;c++)for(var r=0;r<t;r++){var o={id:E[r]+(c+1),ship:!1,attacked:!1};n.push(o)}return m(n,2*t).map((function(e){return e.ship=!0})),console.log(n),n}var _=Object(O.a)({config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:var n=t.payload.columns*t.payload.columns,c=t.payload.columns,r=t.payload.columns,o=N(r,c);return Object(x.a)(Object(x.a)({},e),{},{boards:[].concat(Object(g.a)(e.boards.filter((function(e){return e.configKey!==t.payload.configKey&&null!=e}))),[{columns:t.payload.columns,configKey:t.payload.configKey,boxesList:o,boxesQuant:n}])});case s:var a=e.boards.filter((function(e){return e.configKey===t.payload.board.configKey}))[0],l=a.boxesList.filter((function(e){return e.id===t.payload.box.id}))[0];l.attacked=!0;var u=a.boxesList.filter((function(e){return!0===e.ship&&!0===e.attacked})),d=a.boxesList.filter((function(e){return!0===e.ship}));switch(d.length===u.length&&y.a.fire({title:"You win!",imageUrl:"https://picsum.photos/id/828/350/250",imageWidth:350,imageHeight:250,imageAlt:"Custom image"}),e.playerTurn){case"player1":e.playerTurn="player2";break;case"player2":e.playerTurn="player1"}return Object(x.a)({},e);default:return e}}}),k=Object(O.b)(_,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());var w=function(){return Object(l.jsx)(a.a,{store:k,children:Object(l.jsx)(h,{})})};o.a.render(Object(l.jsx)(w,{}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.13a70b71.chunk.js.map