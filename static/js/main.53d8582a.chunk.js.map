{"version":3,"sources":["types/types.js","actions/casillasTablero.js","components/Configuracion.js","components/Casilla.js","actions/interaccionJuego.js","components/Tablero.js","components/PlayerScreen.js","components/GameScreen.js","reducers/tableroReducer.js","store/store.js","App.js","index.js"],"names":["types","columnasDelTablero","columnas","configKey","type","payload","Configuracion","dispatch","useDispatch","ref","useRef","useEffect","current","value","onChange","event","selectValue","target","selected","Casilla","casilla","tablero","turno","disabled","onClick","atacado","e","atacarCasilla","className","barco","id","Tablero","useSelector","state","config","tableros","turnoJugador","configTablero","filter","o","console","log","style","repeat","listaCasillas","map","PlayerScreen","GameScreen","Swal","fire","title","timer","willClose","clearInterval","getElementosAleatorios","lista","numElementos","sort","Math","random","slice","numCasillas","initialState","letras","split","obtenerListaCasillas","numFilas","numColumnas","filaIndex","columnaIndex","push","reducers","combineReducers","action","tableroActivo","estadoCasilla","casillasConBarcoAtacadas","casillasConBarco","length","imageUrl","imageWidth","imageHeight","imageAlt","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","App","ReactDOM","render","document","getElementById"],"mappings":"qMAAaA,EACM,2BADNA,EAGW,sCCDXC,EAAqB,SAChCC,EACAC,GAGA,MAAO,CACLC,KAAMJ,EACNK,QAAS,CACPH,WACAC,e,OCNOG,EAAgB,SAAC,GAAmB,IAAjBH,EAAgB,EAAhBA,UACxBI,EAAWC,cACXC,EAAMC,mBACZC,qBAAU,WACRJ,EAASN,EAAmBQ,EAAIG,QAAQC,MAAOV,MAC9C,IAMH,OACE,gCACE,+DACA,yBAAQM,IAAKA,EAAKK,SAPK,SAACC,GAC1B,IAAMC,EAAcD,EAAME,OAAOJ,MACjCN,EAASN,EAAmBe,EAAab,KAKvC,UACE,wBAAQU,MAAM,IAAd,qBACA,wBAAQK,UAAQ,EAACL,MAAM,IAAvB,eAGA,wBAAQA,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,uBCrBKM,EAAU,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,QAASC,EAA+B,EAA/BA,QAASC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SAC3ChB,EAAWC,cAIjB,OACE,qBACEgB,QAAUJ,EAAQK,SAAYF,EAAgC,GALvC,SAACG,GAC1BnB,ECLyB,SAACa,EAASC,EAASC,GAC9C,MAAO,CACLlB,KAAMJ,EACNK,QAAS,CACPe,UACAC,UACAC,UDDOK,CAAcP,EAASC,EAASC,KAKvCM,UACE,YACCR,EAAQK,QACLL,EAAQS,MACN,iBACA,cACF,KARR,SAWGT,EAAQU,MElBFC,EAAU,SAAC,GAAmB,IAAjB5B,EAAgB,EAAhBA,UACxB,EAAmC6B,aAAY,SAACC,GAAD,OAAWA,EAAMC,UAAxDC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aACZC,EAAgBF,EAASG,QAAO,SAACC,GAAD,OAAOA,EAAEpC,YAAcA,KAAW,GAMxE,OALAqC,QAAQC,IAAIL,GAMV,8BACE,8BACE,qBACER,UACE,YAAcQ,IAAiBjC,EAAY,kBAAoB,IAEjEuC,MAAO,CACL,wBAAyB,OAAOC,OAAON,EAAcnC,WALzD,SAQGmC,EAAcO,cAAcC,KAAI,SAACzB,GAAD,OAC/B,mCACE,cAAC,EAAD,CACEG,SAAUa,IAAiBjC,EAE3BiB,QAASA,EACTC,QAASgB,EACTf,MAAOc,GAHFhB,EAAQU,gBCtBhBgB,EAAe,SAAC,GAAmB,IAAjB3C,EAAgB,EAAhBA,UAE7B,OACE,sBAAKyB,UAAU,eAAf,UACE,4CAAezB,KACf,cAAC,EAAD,CAAeA,UAAWA,EAAWyB,UAAU,kBAC/C,cAAC,EAAD,CAASzB,UAAWA,Q,gBCNb4C,EAAa,WAWxB,OAVApC,qBAAU,WACRqC,IAAKC,KAAK,CACRC,MAAO,yBACPC,MAAO,IACPC,UAAW,WACTC,qBAGH,IAGD,sBAAKzB,UAAU,aAAf,UACE,oBAAIA,UAAU,SAAd,+BACA,cAAC,EAAD,CAAczB,UAAW,YACzB,cAAC,EAAD,CAAcA,UAAW,gB,uBCjB/B,SAASmD,EAAuBC,EAAOC,GACrC,OAAO,YAAID,GACRE,MAAK,kBAAOC,KAAKC,SAAW,GAAM,GAAK,KACvCC,MAAM,EAAGJ,GAGd,IAAMrB,EAAW,CACf,CACEjC,SAAU,EACVC,UAAW,UACXyC,cAAe,GACfiB,YAAa,GAEf,CACE3D,SAAU,EACVC,UAAW,UACXyC,cAAe,GACfiB,YAAa,IAGXC,EAAe,CACnB3B,SAAUA,EACVC,aAAckB,EAAuBnB,EAAU,GAAG,GAAGhC,WA0EjD4D,EADM,oCACOC,MAAM,KAEzB,SAASC,EAAqBC,EAAUC,GAGtC,IAFA,IAAIvB,EAAgB,GAEXwB,EAAY,EAAGA,EAAYF,EAAUE,IAC5C,IAAK,IAAIC,EAAe,EAAGA,EAAeF,EAAaE,IAAgB,CACrE,IAAIjD,EAAU,CACZU,GAAIiC,EAAOM,IAAiBD,EAAY,GACxCvC,OAAO,EACPJ,SAAS,GAEXmB,EAAc0B,KAAKlD,GASvB,OAL2BkC,EACzBV,EACc,EAAduB,GAEiBtB,KAAI,SAACN,GAAD,OAAQA,EAAEV,OAAQ,KAClCe,ECpHT,IAAM2B,EAAWC,YAAgB,CAC/BtC,ODuB4B,WAAmC,IAAlCD,EAAiC,uDAAzB6B,EAAcW,EAAW,uCAC9D,OAAQA,EAAOrE,MACb,KAAKJ,EACH,IAAM6D,EAAcY,EAAOpE,QAAQH,SAAWuE,EAAOpE,QAAQH,SACzDiE,EAAcM,EAAOpE,QAAQH,SAC7BgE,EAAWO,EAAOpE,QAAQH,SAC1B0C,EAAgBqB,EAAqBC,EAAUC,GAEnD,OAAO,2BACFlC,GADL,IAEEE,SAAS,GAAD,mBACHF,EAAME,SAASG,QAChB,SAACC,GAAD,OAAOA,EAAEpC,YAAcsE,EAAOpE,QAAQF,WAAkB,MAALoC,MAF/C,CAKN,CACErC,SAAUuE,EAAOpE,QAAQH,SACzBC,UAAWsE,EAAOpE,QAAQF,UAC1ByC,cAAeA,EACfiB,YAAaA,OAKrB,KAAK7D,EACH,IAAM0E,EAAgBzC,EAAME,SAASG,QACnC,SAACC,GAAD,OAAOA,EAAEpC,YAAcsE,EAAOpE,QAAQgB,QAAQlB,aAC9C,GAEIwE,EAAgBD,EAAc9B,cAAcN,QAChD,SAACC,GAAD,OAAOA,EAAET,KAAO2C,EAAOpE,QAAQe,QAAQU,MACvC,GAEF6C,EAAclD,SAAU,EAExB,IAAMmD,EAA2BF,EAAc9B,cAAcN,QAC3D,SAACC,GAAD,OAAmB,IAAZA,EAAEV,QAAgC,IAAdU,EAAEd,WAGzBoD,EAAmBH,EAAc9B,cAAcN,QACnD,SAACC,GAAD,OAAmB,IAAZA,EAAEV,SAYX,OATIgD,EAAiBC,QAAUF,EAAyBE,QACtD9B,IAAKC,KAAK,CACRC,MAAO,mBACP6B,SAAU,uCACVC,WAAY,IACZC,YAAa,IACbC,SAAU,iBAGNjD,EAAMG,cACZ,IAAK,UACHH,EAAMG,aAAe,UACrB,MACF,IAAK,UACHH,EAAMG,aAAe,UAIzB,OAAO,eACFH,GAGP,QACE,OAAOA,MCtFAkD,EAAQC,YACnBb,EACAc,OAAOC,8BAAgCD,OAAOC,gCCKjCC,MARf,WACE,OACE,cAAC,IAAD,CAAUJ,MAAOA,EAAjB,SACE,cAAC,EAAD,OCJNK,IAASC,OACP,cAAC,EAAD,IAEAC,SAASC,eAAe,W","file":"static/js/main.53d8582a.chunk.js","sourcesContent":["export const types = {\r\n  casillasTablero: \"[Config] CasillasTablero\",\r\n\r\n  estadoCasillaOnClick: \"[Interaccion] estadoCasillasOnClick\",\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\nexport const columnasDelTablero = (\r\n  columnas,\r\n  configKey\r\n  // tablero,\r\n) => {\r\n  return {\r\n    type: types.casillasTablero,\r\n    payload: {\r\n      columnas,\r\n      configKey,\r\n      // tablero,\r\n      //   numeroCasillas,\r\n    },\r\n  };\r\n};\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { columnasDelTablero } from \"../actions/casillasTablero\";\r\n\r\nexport const Configuracion = ({ configKey }) => {\r\n  const dispatch = useDispatch();\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    dispatch(columnasDelTablero(ref.current.value, configKey));\r\n  }, []);\r\n\r\n  const handleSelectChange = (event) => {\r\n    const selectValue = event.target.value;\r\n    dispatch(columnasDelTablero(selectValue, configKey));\r\n  };\r\n  return (\r\n    <div>\r\n      <h4>Elige un tamaño de tablero</h4>\r\n      <select ref={ref} onChange={handleSelectChange}>\r\n        <option value=\"0\">Iniciar</option>\r\n        <option selected value=\"4\">\r\n          4\r\n        </option>\r\n        <option value=\"8\">8</option>\r\n        <option value=\"16\">16</option>\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { atacarCasilla } from \"../actions/interaccionJuego\";\r\n\r\nexport const Casilla = ({ casilla, tablero, turno, disabled }) => {\r\n  const dispatch = useDispatch();\r\n  const handleCasillaClick = (e) => {\r\n    dispatch(atacarCasilla(casilla, tablero, turno));\r\n  };\r\n  return (\r\n    <div\r\n      onClick={!casilla.atacado && !disabled ? handleCasillaClick : \"\"}\r\n      className={\r\n        \"casilla \" +\r\n        (casilla.atacado\r\n          ? casilla.barco\r\n            ? \"casillaAtacada\"\r\n            : \"casillaAgua\"\r\n          : \" \")\r\n      }\r\n    >\r\n      {casilla.id}\r\n    </div>\r\n  );\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\nexport const atacarCasilla = (casilla, tablero, turno) => {\r\n  return {\r\n    type: types.estadoCasillaOnClick,\r\n    payload: {\r\n      casilla,\r\n      tablero,\r\n      turno,\r\n    },\r\n  };\r\n};\r\n","import { useSelector } from \"react-redux\";\nimport { Casilla } from \"./Casilla\";\n\nexport const Tablero = ({ configKey }) => {\n  const { tableros, turnoJugador } = useSelector((state) => state.config);\n  const configTablero = tableros.filter((o) => o.configKey === configKey)[0];\n  console.log(turnoJugador);\n\n  // console.log(configTablero.columnas);\n  // console.log(configTablero.listaCasillas);\n\n  return (\n    <div>\n      <div>\n        <div\n          className={\n            \"tablero \" + (turnoJugador === configKey ? \"tableroDisabled\" : \"\")\n          }\n          style={{\n            \"grid-template-columns\": \"1fr \".repeat(configTablero.columnas),\n          }}\n        >\n          {configTablero.listaCasillas.map((casilla) => (\n            <>\n              <Casilla\n                disabled={turnoJugador === configKey}\n                key={casilla.id}\n                casilla={casilla}\n                tablero={configTablero}\n                turno={turnoJugador}\n              />\n            </>\n          ))}\n        </div>\n      </div>\n      {/* Caja personalizar tamaño */}\n    </div>\n  );\n};\n\nexport default Tablero;\n","import React from \"react\";\r\nimport { Configuracion } from \"./Configuracion\";\r\nimport { Tablero } from \"./Tablero\";\r\n\r\nexport const PlayerScreen = ({ configKey }) => {\r\n  // console.log(configKey);\r\n  return (\r\n    <div className=\"playerScreen\">\r\n      <h5> Jugador: {configKey}</h5>\r\n      <Configuracion configKey={configKey} className=\"configuracion\" />\r\n      <Tablero configKey={configKey} />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { PlayerScreen } from \"./PlayerScreen\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport const GameScreen = () => {\r\n  useEffect(() => {\r\n    Swal.fire({\r\n      title: \"¡Comienza el juego!\",\r\n      timer: 2000,\r\n      willClose: () => {\r\n        clearInterval();\r\n      },\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"gameScreen\">\r\n      <h1 className=\"titulo\"> Hundir la flota </h1>\r\n      <PlayerScreen configKey={\"player1\"} />\r\n      <PlayerScreen configKey={\"player2\"} />\r\n    </div>\r\n  );\r\n};\r\n","import Swal from \"sweetalert2\";\r\nimport { types } from \"../types/types\";\r\nfunction getElementosAleatorios(lista, numElementos) {\r\n  return [...lista]\r\n    .sort(() => (Math.random() > 0.5 ? 1 : -1))\r\n    .slice(0, numElementos);\r\n}\r\n\r\nconst tableros = [\r\n  {\r\n    columnas: 0,\r\n    configKey: \"player1\",\r\n    listaCasillas: [],\r\n    numCasillas: 0,\r\n  },\r\n  {\r\n    columnas: 0,\r\n    configKey: \"player2\",\r\n    listaCasillas: [],\r\n    numCasillas: 0,\r\n  },\r\n];\r\nconst initialState = {\r\n  tableros: tableros,\r\n  turnoJugador: getElementosAleatorios(tableros, 1)[0].configKey,\r\n};\r\n\r\nexport const tableroReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.casillasTablero:\r\n      const numCasillas = action.payload.columnas * action.payload.columnas;\r\n      let numColumnas = action.payload.columnas;\r\n      let numFilas = action.payload.columnas;\r\n      let listaCasillas = obtenerListaCasillas(numFilas, numColumnas);\r\n\r\n      return {\r\n        ...state,\r\n        tableros: [\r\n          ...state.tableros.filter(\r\n            (o) => o.configKey !== action.payload.configKey && o != null\r\n          ),\r\n\r\n          {\r\n            columnas: action.payload.columnas,\r\n            configKey: action.payload.configKey,\r\n            listaCasillas: listaCasillas,\r\n            numCasillas: numCasillas,\r\n          },\r\n        ],\r\n      };\r\n\r\n    case types.estadoCasillaOnClick:\r\n      const tableroActivo = state.tableros.filter(\r\n        (o) => o.configKey === action.payload.tablero.configKey\r\n      )[0];\r\n\r\n      const estadoCasilla = tableroActivo.listaCasillas.filter(\r\n        (o) => o.id === action.payload.casilla.id\r\n      )[0];\r\n\r\n      estadoCasilla.atacado = true;\r\n\r\n      const casillasConBarcoAtacadas = tableroActivo.listaCasillas.filter(\r\n        (o) => o.barco === true && o.atacado === true\r\n      );\r\n\r\n      const casillasConBarco = tableroActivo.listaCasillas.filter(\r\n        (o) => o.barco === true\r\n      );\r\n\r\n      if (casillasConBarco.length == casillasConBarcoAtacadas.length) {\r\n        Swal.fire({\r\n          title: \"¡Tú ganas!\",\r\n          imageUrl: \"https://picsum.photos/id/828/350/250\",\r\n          imageWidth: 350,\r\n          imageHeight: 250,\r\n          imageAlt: \"Custom image\",\r\n        });\r\n      }\r\n      switch (state.turnoJugador) {\r\n        case \"player1\":\r\n          state.turnoJugador = \"player2\";\r\n          break;\r\n        case \"player2\":\r\n          state.turnoJugador = \"player1\";\r\n          break;\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst abc = \"A B C D E F G H I J K L M N O P Q\";\r\nconst letras = abc.split(\" \");\r\n\r\nfunction obtenerListaCasillas(numFilas, numColumnas) {\r\n  let listaCasillas = [];\r\n\r\n  for (let filaIndex = 0; filaIndex < numFilas; filaIndex++) {\r\n    for (let columnaIndex = 0; columnaIndex < numColumnas; columnaIndex++) {\r\n      let casilla = {\r\n        id: letras[columnaIndex] + (filaIndex + 1),\r\n        barco: false,\r\n        atacado: false,\r\n      };\r\n      listaCasillas.push(casilla);\r\n    }\r\n  }\r\n\r\n  const casillasAleatorias = getElementosAleatorios(\r\n    listaCasillas,\r\n    numColumnas * 2\r\n  );\r\n  casillasAleatorias.map((o) => (o.barco = true));\r\n  return listaCasillas;\r\n}\r\n","import { createStore, combineReducers } from \"redux\";\r\nimport { tableroReducer } from \"../reducers/tableroReducer\";\r\n\r\nconst reducers = combineReducers({\r\n  config: tableroReducer,\r\n});\r\n\r\nexport const store = createStore(\r\n  reducers,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n","import { Provider } from \"react-redux\";\r\nimport { GameScreen } from \"./components/GameScreen\";\r\n\r\nimport \"./index.css\";\r\nimport { store } from \"./store/store\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <GameScreen />\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <App />,\n\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}